{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thang\\\\Code_WDP301\\\\Learning-Management-System\\\\frontend\\\\src\\\\components\\\\Student\\\\QuizList.jsx\",\n  _s = $RefreshSig$();\n// src/components/QuizList.jsx\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { motion } from \"framer-motion\";\nimport { FiArrowLeft, FiClock, FiCheckCircle, FiAlertTriangle, FiEdit3, FiSend } from \"react-icons/fi\";\nimport { Container, Card, Button, Spinner, Form, Row, Col, Badge, Alert, ProgressBar } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function QuizList() {\n  _s();\n  var _submission$grade3;\n  const navigate = useNavigate();\n  const {\n    assignmentId\n  } = useParams(); // Route: /student/quiz/:assignmentId\n\n  // 1. State\n  const [assignment, setAssignment] = useState(null);\n  const [submission, setSubmission] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [answers, setAnswers] = useState({}); // { questionId: selectedOption }\n  const [essayContent, setEssayContent] = useState(\"\");\n  const [canEdit, setCanEdit] = useState(false); // còn hạn nộp\n  const [hasSubmitted, setHasSubmitted] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Lấy studentId từ localStorage hoặc mặc định\n  const DEFAULT_STUDENT_ID = \"60a000000000000000000002\";\n  const [studentId, setStudentId] = useState(DEFAULT_STUDENT_ID);\n  useEffect(() => {\n    try {\n      const stored = localStorage.getItem(\"user\");\n      if (stored) {\n        const u = JSON.parse(stored);\n        if (u && u._id) setStudentId(u._id);\n      }\n    } catch (e) {\n      console.warn(\"localStorage user parse error:\", e);\n    }\n  }, []);\n\n  // Fetch assignment detail\n  const fetchAssignment = useCallback(async () => {\n    try {\n      const resp = await axios.get(`/api/student/assignments/${assignmentId}`);\n      if (resp.data.success) {\n        setAssignment(resp.data.data);\n      }\n    } catch (err) {\n      console.error(\"Error fetching assignment:\", err);\n    }\n  }, [assignmentId]);\n\n  // Fetch submission (if có) for this student\n  const fetchSubmission = useCallback(async () => {\n    if (!studentId || !assignmentId) {\n      console.log(\"Missing studentId or assignmentId\");\n      return;\n    }\n    try {\n      console.log(\"Fetching submissions for assignment:\", assignmentId);\n      console.log(\"Current studentId:\", studentId);\n\n      // FIX: Sử dụng đúng endpoint như bạn đã chỉ định\n      const resp = await axios.get(`/api/student/submissions/assignment/${assignmentId}`);\n      console.log(\"API Response:\", resp.data);\n      if (resp.data.success) {\n        // Lọc ra submission đúng studentId\n        const allSubs = resp.data.data;\n        console.log(\"All submissions:\", allSubs);\n        console.log(\"Looking for studentId:\", studentId);\n\n        // Thử nhiều cách so sánh studentId\n        const mySub = allSubs.find(s => {\n          console.log(\"Comparing:\", s.studentId, \"with\", studentId);\n          console.log(\"Types:\", typeof s.studentId, typeof studentId);\n\n          // Thử các cách so sánh khác nhau\n          return s.studentId.toString() === studentId.toString() || s.studentId === studentId || s.studentId.toString() === studentId || s.studentId === studentId.toString();\n        });\n        console.log(\"Found submission:\", mySub);\n        if (mySub) {\n          setSubmission(mySub);\n          setHasSubmitted(true);\n          console.log(\"Setting submission:\", mySub);\n\n          // Nếu quiz:\n          if ((assignment === null || assignment === void 0 ? void 0 : assignment.type) === \"quiz\" && mySub.answers) {\n            const ansMap = {};\n            mySub.answers.forEach(ans => {\n              ansMap[ans.questionId] = ans.selectedOption;\n            });\n            setAnswers(ansMap);\n            console.log(\"Setting quiz answers:\", ansMap);\n          }\n          // Nếu essay:\n          if ((assignment === null || assignment === void 0 ? void 0 : assignment.type) === \"essay\" && mySub.content) {\n            setEssayContent(mySub.content);\n            console.log(\"Setting essay content:\", mySub.content);\n          }\n        } else {\n          console.log(\"No submission found for this student\");\n          // Không tìm thấy submission -> reset state\n          setSubmission(null);\n          setHasSubmitted(false);\n          setAnswers({});\n          setEssayContent(\"\");\n        }\n      } else {\n        console.log(\"API response not successful:\", resp.data);\n      }\n    } catch (err) {\n      var _err$response;\n      console.error(\"Error fetching submission:\", err);\n      console.error(\"Error details:\", (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n      // Nếu lỗi 404 hoặc không tìm thấy -> reset state\n      setSubmission(null);\n      setHasSubmitted(false);\n      setAnswers({});\n      setEssayContent(\"\");\n    }\n  }, [assignmentId, studentId, assignment === null || assignment === void 0 ? void 0 : assignment.type]);\n\n  // Kiểm tra hạn nộp\n  const checkCanEdit = useCallback(() => {\n    if (!assignment) return;\n    const now = new Date();\n    const due = new Date(assignment.dueDate);\n    // Nếu chưa quá hạn -> có thể nộp hoặc resubmit\n    setCanEdit(now <= due);\n  }, [assignment]);\n\n  // Kết hợp fetch và kiểm tra\n  useEffect(() => {\n    async function loadData() {\n      setIsLoading(true);\n      await fetchAssignment();\n      setIsLoading(false);\n    }\n    loadData();\n  }, [fetchAssignment]);\n  useEffect(() => {\n    if (assignment && studentId) {\n      checkCanEdit();\n      fetchSubmission();\n    }\n  }, [assignment, studentId, fetchSubmission, checkCanEdit]);\n\n  // Handle chọn đáp án quiz\n  const handleOptionChange = (questionId, optionKey) => {\n    if (!canEdit) return;\n    setAnswers(prev => ({\n      ...prev,\n      [questionId]: optionKey\n    }));\n  };\n\n  // Handle submit/resubmit\n  const handleSubmit = async () => {\n    if (!assignment || !studentId) return;\n\n    // Kiểm tra deadline một lần nữa\n    const now = new Date();\n    const due = new Date(assignment.dueDate);\n    if (now > due) {\n      alert(\"Deadline has passed. Cannot submit.\");\n      return;\n    }\n\n    // Validation cho quiz\n    if (assignment.type === \"quiz\") {\n      const totalQuestions = assignment.questions.length;\n      const answeredQuestions = Object.keys(answers).length;\n      if (answeredQuestions === 0) {\n        alert(\"Please answer at least one question before submitting.\");\n        return;\n      }\n      // Optional: require all questions to be answered\n      // if (answeredQuestions < totalQuestions) {\n      //   const confirm = window.confirm(`You have only answered ${answeredQuestions}/${totalQuestions} questions. Submit anyway?`);\n      //   if (!confirm) return;\n      // }\n    }\n\n    // Validation cho essay\n    if (assignment.type === \"essay\" && !essayContent.trim()) {\n      alert(\"Please write your answer before submitting.\");\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      if (hasSubmitted && submission && submission._id) {\n        // RESUBMIT - Update existing submission\n        let resubmitPayload = {};\n        if (assignment.type === \"quiz\") {\n          // Chuyển answers thành mảng\n          const ansArr = Object.entries(answers).map(([qId, sel]) => ({\n            questionId: qId,\n            selectedOption: sel\n          }));\n          resubmitPayload.answers = ansArr;\n        } else {\n          // essay\n          resubmitPayload.content = essayContent.trim();\n        }\n        console.log(\"Resubmitting with payload:\", resubmitPayload);\n        console.log(\"Submission ID:\", submission._id);\n\n        // FIX: Sử dụng đúng endpoint resubmit\n        const response = await axios.put(`/api/student/submissions/resubmit/${submission._id}`, resubmitPayload);\n        console.log(\"Resubmit response:\", response.data);\n        if (response.data.success) {\n          alert(\"Resubmission successful!\");\n          // Refresh lại submission để lấy dữ liệu mới\n          await fetchSubmission();\n        } else {\n          alert(response.data.message || \"Resubmission failed!\");\n        }\n      } else {\n        // NEW SUBMISSION - Create new submission\n        let payload = {\n          studentId,\n          assignmentId\n        };\n        if (assignment.type === \"quiz\") {\n          // Chuyển answers thành mảng\n          const ansArr = Object.entries(answers).map(([qId, sel]) => ({\n            questionId: qId,\n            selectedOption: sel\n          }));\n          payload.answers = ansArr;\n        } else {\n          // essay\n          payload.content = essayContent.trim();\n        }\n        console.log(\"New submission with payload:\", payload);\n        const response = await axios.post(\"/api/student/submissions/submit\", payload);\n        console.log(\"Submit response:\", response.data);\n        if (response.data.success) {\n          alert(\"Submission successful!\");\n          // Set hasSubmitted và submission data\n          setHasSubmitted(true);\n          if (response.data.data) {\n            setSubmission(response.data.data);\n          }\n          // Refresh lại submission để đảm bảo\n          await fetchSubmission();\n        } else {\n          alert(response.data.message || \"Submission failed!\");\n        }\n      }\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(\"Submit error:\", err);\n      const errorMsg = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message || \"Failed to submit.\";\n      alert(errorMsg);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Helper functions\n  const getTimeRemaining = () => {\n    if (!assignment) return null;\n    const now = new Date();\n    const due = new Date(assignment.dueDate);\n    const diff = due - now;\n    if (diff <= 0) return \"Overdue\";\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n    const hours = Math.floor(diff % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n    if (days > 0) return `${days} day${days > 1 ? 's' : ''} remaining`;\n    if (hours > 0) return `${hours} hour${hours > 1 ? 's' : ''} remaining`;\n    return \"Less than 1 hour remaining\";\n  };\n  const getQuizProgress = () => {\n    if (!assignment || assignment.type !== 'quiz') return 0;\n    const totalQuestions = assignment.questions.length;\n    const answeredQuestions = Object.keys(answers).length;\n    return totalQuestions > 0 ? answeredQuestions / totalQuestions * 100 : 0;\n  };\n  const getStatusBadge = () => {\n    var _submission$grade;\n    if (hasSubmitted && (submission === null || submission === void 0 ? void 0 : (_submission$grade = submission.grade) === null || _submission$grade === void 0 ? void 0 : _submission$grade.score) != null) {\n      return /*#__PURE__*/_jsxDEV(Badge, {\n        bg: \"success\",\n        className: \"ms-2\",\n        children: [/*#__PURE__*/_jsxDEV(FiCheckCircle, {\n          className: \"me-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 51\n        }, this), \"Graded\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 14\n      }, this);\n    }\n    if (hasSubmitted) {\n      return /*#__PURE__*/_jsxDEV(Badge, {\n        bg: \"info\",\n        className: \"ms-2\",\n        children: [/*#__PURE__*/_jsxDEV(FiCheckCircle, {\n          className: \"me-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 48\n        }, this), \"Submitted\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 14\n      }, this);\n    }\n    if (!canEdit) {\n      return /*#__PURE__*/_jsxDEV(Badge, {\n        bg: \"danger\",\n        className: \"ms-2\",\n        children: [/*#__PURE__*/_jsxDEV(FiAlertTriangle, {\n          className: \"me-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 50\n        }, this), \"Overdue\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      bg: \"warning\",\n      className: \"ms-2\",\n      children: [/*#__PURE__*/_jsxDEV(FiClock, {\n        className: \"me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 49\n      }, this), \"In Progress\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 12\n    }, this);\n  };\n\n  // Show last submission info\n  const getSubmissionInfo = () => {\n    var _submission$grade2;\n    if (!hasSubmitted || !submission) return null;\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"info\",\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Last submitted:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), \" \", new Date(submission.submittedAt).toLocaleString(), ((_submission$grade2 = submission.grade) === null || _submission$grade2 === void 0 ? void 0 : _submission$grade2.score) != null && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ms-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Grade:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-success\",\n              children: [submission.grade.score, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), canEdit && /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-muted\",\n          children: \"You can still resubmit before the deadline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this);\n  };\n  if (isLoading || !assignment) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 text-center\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          variant: \"primary\",\n          size: \"lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-muted\",\n          children: \"Loading assignment...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    transition: {\n      duration: 0.5\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-4\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          x: -20,\n          opacity: 0\n        },\n        animate: {\n          x: 0,\n          opacity: 1\n        },\n        transition: {\n          duration: 0.3\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          className: \"mb-4 d-flex align-items-center\",\n          onClick: () => navigate(-1),\n          children: [/*#__PURE__*/_jsxDEV(FiArrowLeft, {\n            className: \"me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), \" Back to Assignments\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          y: -20,\n          opacity: 0\n        },\n        animate: {\n          y: 0,\n          opacity: 1\n        },\n        transition: {\n          duration: 0.4,\n          delay: 0.1\n        },\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-4 border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-start mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  className: \"h3 mb-2 text-primary\",\n                  children: [assignment.title, getStatusBadge()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: assignment.type === 'quiz' ? 'primary' : 'secondary',\n                  className: \"mb-2\",\n                  children: assignment.type.toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), (submission === null || submission === void 0 ? void 0 : (_submission$grade3 = submission.grade) === null || _submission$grade3 === void 0 ? void 0 : _submission$grade3.score) != null && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h2 text-success mb-0\",\n                  children: [submission.grade.score, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"Your Score\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center text-muted mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(FiClock, {\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Due:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 21\n                  }, this), \" \", new Date(assignment.dueDate).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                className: \"text-md-end\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `fw-bold ${canEdit ? 'text-success' : 'text-danger'}`,\n                  children: getTimeRemaining()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), assignment.type === 'quiz' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: \"Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: [Object.keys(answers).length, \"/\", assignment.questions.length, \" questions\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n                now: getQuizProgress(),\n                variant: getQuizProgress() === 100 ? 'success' : 'primary',\n                height: 8\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), getSubmissionInfo(), !canEdit && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          scale: 0.95,\n          opacity: 0\n        },\n        animate: {\n          scale: 1,\n          opacity: 1\n        },\n        transition: {\n          duration: 0.3,\n          delay: 0.2\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(FiAlertTriangle, {\n            className: \"me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Deadline has passed!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this), \" You can no longer submit or modify your answers.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"light\",\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Debug Info:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 39\n        }, this), \"Student ID: \", studentId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 34\n        }, this), \"Assignment ID: \", assignmentId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 40\n        }, this), \"Has Submitted: \", hasSubmitted.toString(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 51\n        }, this), \"Submission ID: \", (submission === null || submission === void 0 ? void 0 : submission._id) || 'None', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 53\n        }, this), \"Submission Student ID: \", (submission === null || submission === void 0 ? void 0 : submission.studentId) || 'None', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 67\n        }, this), \"Can Edit: \", canEdit.toString(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 41\n        }, this), \"Answers: \", JSON.stringify(answers), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 45\n        }, this), \"Essay Content Length: \", essayContent.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          y: 20,\n          opacity: 0\n        },\n        animate: {\n          y: 0,\n          opacity: 1\n        },\n        transition: {\n          duration: 0.5,\n          delay: 0.3\n        },\n        children: assignment.type === 'quiz' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quiz-questions\",\n          children: assignment.questions.map((q, idx) => /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              y: 20,\n              opacity: 0\n            },\n            animate: {\n              y: 0,\n              opacity: 1\n            },\n            transition: {\n              duration: 0.4,\n              delay: 0.1 * idx\n            },\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mb-4 border-0 shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                className: \"p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-start mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"light\",\n                    text: \"dark\",\n                    className: \"me-3 fs-6\",\n                    children: idx + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n                    className: \"h5 mb-0 flex-grow-1\",\n                    children: q.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 25\n                  }, this), answers[q.questionId] && /*#__PURE__*/_jsxDEV(FiCheckCircle, {\n                    className: \"text-success ms-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"mt-3\",\n                  children: q.options.map((opt, i) => /*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    className: \"mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(motion.div, {\n                      whileHover: canEdit ? {\n                        scale: 1.02\n                      } : {},\n                      whileTap: canEdit ? {\n                        scale: 0.98\n                      } : {},\n                      children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                        type: \"radio\",\n                        name: `q_${q.questionId}`,\n                        id: `${q.questionId}_${opt.key}`,\n                        className: \"custom-radio\",\n                        disabled: !canEdit,\n                        children: [/*#__PURE__*/_jsxDEV(Form.Check.Input, {\n                          type: \"radio\",\n                          checked: answers[q.questionId] === opt.key,\n                          onChange: () => handleOptionChange(q.questionId, opt.key),\n                          disabled: !canEdit\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 522,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Form.Check.Label, {\n                          className: \"d-flex align-items-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"fw-bold me-2\",\n                            children: [opt.key, \".\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 529,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: opt.text\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 530,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 528,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 515,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 511,\n                      columnNumber: 29\n                    }, this)\n                  }, opt.key, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this)\n          }, q.questionId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-4 border-0 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"p-4\",\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                className: \"h5 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(FiEdit3, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 21\n                }, this), \"Your Answer\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 8,\n                value: essayContent,\n                onChange: e => setEssayContent(e.target.value),\n                disabled: !canEdit,\n                placeholder: canEdit ? \"Type your answer here...\" : \"\",\n                className: \"border-0 shadow-sm\",\n                style: {\n                  resize: 'vertical',\n                  minHeight: '200px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this), canEdit && /*#__PURE__*/_jsxDEV(Form.Text, {\n                className: \"text-muted\",\n                children: [essayContent.length, \" characters\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          y: 20,\n          opacity: 0\n        },\n        animate: {\n          y: 0,\n          opacity: 1\n        },\n        transition: {\n          duration: 0.4,\n          delay: 0.5\n        },\n        className: \"text-center mt-4\",\n        children: canEdit ? /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          disabled: isSubmitting,\n          size: \"lg\",\n          className: \"px-5 py-3\",\n          variant: hasSubmitted ? \"warning\" : \"success\",\n          children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              size: \"sm\",\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 19\n            }, this), hasSubmitted ? 'Resubmitting...' : 'Submitting...']\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FiSend, {\n              className: \"me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 19\n            }, this), hasSubmitted ? 'Resubmit Assignment' : 'Submit Assignment']\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"secondary\",\n          className: \"d-inline-block\",\n          children: [/*#__PURE__*/_jsxDEV(FiAlertTriangle, {\n            className: \"me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this), \"Submission period has ended\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 5\n  }, this);\n}\n_s(QuizList, \"6WY0oQMxK8QezIbENizA7XX1yQw=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = QuizList;\nvar _c;\n$RefreshReg$(_c, \"QuizList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useParams","axios","motion","FiArrowLeft","FiClock","FiCheckCircle","FiAlertTriangle","FiEdit3","FiSend","Container","Card","Button","Spinner","Form","Row","Col","Badge","Alert","ProgressBar","jsxDEV","_jsxDEV","Fragment","_Fragment","QuizList","_s","_submission$grade3","navigate","assignmentId","assignment","setAssignment","submission","setSubmission","isLoading","setIsLoading","answers","setAnswers","essayContent","setEssayContent","canEdit","setCanEdit","hasSubmitted","setHasSubmitted","isSubmitting","setIsSubmitting","DEFAULT_STUDENT_ID","studentId","setStudentId","stored","localStorage","getItem","u","JSON","parse","_id","e","console","warn","fetchAssignment","resp","get","data","success","err","error","fetchSubmission","log","allSubs","mySub","find","s","toString","type","ansMap","forEach","ans","questionId","selectedOption","content","_err$response","response","checkCanEdit","now","Date","due","dueDate","loadData","handleOptionChange","optionKey","prev","handleSubmit","alert","totalQuestions","questions","length","answeredQuestions","Object","keys","trim","resubmitPayload","ansArr","entries","map","qId","sel","put","message","payload","post","_err$response2","_err$response2$data","errorMsg","getTimeRemaining","diff","days","Math","floor","hours","getQuizProgress","getStatusBadge","_submission$grade","grade","score","bg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getSubmissionInfo","_submission$grade2","variant","submittedAt","toLocaleString","div","initial","opacity","y","animate","transition","duration","animation","size","x","onClick","delay","Body","Title","title","toUpperCase","md","height","scale","stringify","q","idx","text","Subtitle","options","opt","i","whileHover","whileTap","Check","name","id","key","disabled","Input","checked","onChange","Label","Group","Control","as","rows","value","target","placeholder","style","resize","minHeight","Text","_c","$RefreshReg$"],"sources":["C:/Users/thang/Code_WDP301/Learning-Management-System/frontend/src/components/Student/QuizList.jsx"],"sourcesContent":["// src/components/QuizList.jsx\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { motion } from \"framer-motion\";\r\nimport { FiArrowLeft, FiClock, FiCheckCircle, FiAlertTriangle, FiEdit3, FiSend } from \"react-icons/fi\";\r\nimport {\r\n  Container,\r\n  Card,\r\n  Button,\r\n  Spinner,\r\n  Form,\r\n  Row,\r\n  Col,\r\n  Badge,\r\n  Alert,\r\n  ProgressBar,\r\n} from 'react-bootstrap';\r\n\r\nexport default function QuizList() {\r\n  const navigate = useNavigate();\r\n  const { assignmentId } = useParams(); // Route: /student/quiz/:assignmentId\r\n\r\n  // 1. State\r\n  const [assignment, setAssignment] = useState(null);\r\n  const [submission, setSubmission] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [answers, setAnswers] = useState({}); // { questionId: selectedOption }\r\n  const [essayContent, setEssayContent] = useState(\"\");\r\n  const [canEdit, setCanEdit] = useState(false); // còn hạn nộp\r\n  const [hasSubmitted, setHasSubmitted] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Lấy studentId từ localStorage hoặc mặc định\r\n  const DEFAULT_STUDENT_ID = \"60a000000000000000000002\";\r\n  const [studentId, setStudentId] = useState(DEFAULT_STUDENT_ID);\r\n  \r\n  useEffect(() => {\r\n    try {\r\n      const stored = localStorage.getItem(\"user\");\r\n      if (stored) {\r\n        const u = JSON.parse(stored);\r\n        if (u && u._id) setStudentId(u._id);\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"localStorage user parse error:\", e);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch assignment detail\r\n  const fetchAssignment = useCallback(async () => {\r\n    try {\r\n      const resp = await axios.get(`/api/student/assignments/${assignmentId}`);\r\n      if (resp.data.success) {\r\n        setAssignment(resp.data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching assignment:\", err);\r\n    }\r\n  }, [assignmentId]);\r\n\r\n  // Fetch submission (if có) for this student\r\n  const fetchSubmission = useCallback(async () => {\r\n    if (!studentId || !assignmentId) {\r\n      console.log(\"Missing studentId or assignmentId\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log(\"Fetching submissions for assignment:\", assignmentId);\r\n      console.log(\"Current studentId:\", studentId);\r\n      \r\n      // FIX: Sử dụng đúng endpoint như bạn đã chỉ định\r\n      const resp = await axios.get(\r\n        `/api/student/submissions/assignment/${assignmentId}`\r\n      );\r\n      \r\n      console.log(\"API Response:\", resp.data);\r\n      \r\n      if (resp.data.success) {\r\n        // Lọc ra submission đúng studentId\r\n        const allSubs = resp.data.data;\r\n        console.log(\"All submissions:\", allSubs);\r\n        console.log(\"Looking for studentId:\", studentId);\r\n        \r\n        // Thử nhiều cách so sánh studentId\r\n        const mySub = allSubs.find((s) => {\r\n          console.log(\"Comparing:\", s.studentId, \"with\", studentId);\r\n          console.log(\"Types:\", typeof s.studentId, typeof studentId);\r\n          \r\n          // Thử các cách so sánh khác nhau\r\n          return s.studentId.toString() === studentId.toString() ||\r\n                 s.studentId === studentId ||\r\n                 s.studentId.toString() === studentId ||\r\n                 s.studentId === studentId.toString();\r\n        });\r\n        \r\n        console.log(\"Found submission:\", mySub);\r\n        \r\n        if (mySub) {\r\n          setSubmission(mySub);\r\n          setHasSubmitted(true);\r\n          console.log(\"Setting submission:\", mySub);\r\n          \r\n          // Nếu quiz:\r\n          if (assignment?.type === \"quiz\" && mySub.answers) {\r\n            const ansMap = {};\r\n            mySub.answers.forEach((ans) => {\r\n              ansMap[ans.questionId] = ans.selectedOption;\r\n            });\r\n            setAnswers(ansMap);\r\n            console.log(\"Setting quiz answers:\", ansMap);\r\n          }\r\n          // Nếu essay:\r\n          if (assignment?.type === \"essay\" && mySub.content) {\r\n            setEssayContent(mySub.content);\r\n            console.log(\"Setting essay content:\", mySub.content);\r\n          }\r\n        } else {\r\n          console.log(\"No submission found for this student\");\r\n          // Không tìm thấy submission -> reset state\r\n          setSubmission(null);\r\n          setHasSubmitted(false);\r\n          setAnswers({});\r\n          setEssayContent(\"\");\r\n        }\r\n      } else {\r\n        console.log(\"API response not successful:\", resp.data);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching submission:\", err);\r\n      console.error(\"Error details:\", err.response?.data);\r\n      // Nếu lỗi 404 hoặc không tìm thấy -> reset state\r\n      setSubmission(null);\r\n      setHasSubmitted(false);\r\n      setAnswers({});\r\n      setEssayContent(\"\");\r\n    }\r\n  }, [assignmentId, studentId, assignment?.type]);\r\n\r\n  // Kiểm tra hạn nộp\r\n  const checkCanEdit = useCallback(() => {\r\n    if (!assignment) return;\r\n    const now = new Date();\r\n    const due = new Date(assignment.dueDate);\r\n    // Nếu chưa quá hạn -> có thể nộp hoặc resubmit\r\n    setCanEdit(now <= due);\r\n  }, [assignment]);\r\n\r\n  // Kết hợp fetch và kiểm tra\r\n  useEffect(() => {\r\n    async function loadData() {\r\n      setIsLoading(true);\r\n      await fetchAssignment();\r\n      setIsLoading(false);\r\n    }\r\n    loadData();\r\n  }, [fetchAssignment]);\r\n\r\n  useEffect(() => {\r\n    if (assignment && studentId) {\r\n      checkCanEdit();\r\n      fetchSubmission();\r\n    }\r\n  }, [assignment, studentId, fetchSubmission, checkCanEdit]);\r\n\r\n  // Handle chọn đáp án quiz\r\n  const handleOptionChange = (questionId, optionKey) => {\r\n    if (!canEdit) return;\r\n    setAnswers((prev) => ({\r\n      ...prev,\r\n      [questionId]: optionKey,\r\n    }));\r\n  };\r\n\r\n  // Handle submit/resubmit\r\n  const handleSubmit = async () => {\r\n    if (!assignment || !studentId) return;\r\n\r\n    // Kiểm tra deadline một lần nữa\r\n    const now = new Date();\r\n    const due = new Date(assignment.dueDate);\r\n    if (now > due) {\r\n      alert(\"Deadline has passed. Cannot submit.\");\r\n      return;\r\n    }\r\n\r\n    // Validation cho quiz\r\n    if (assignment.type === \"quiz\") {\r\n      const totalQuestions = assignment.questions.length;\r\n      const answeredQuestions = Object.keys(answers).length;\r\n      if (answeredQuestions === 0) {\r\n        alert(\"Please answer at least one question before submitting.\");\r\n        return;\r\n      }\r\n      // Optional: require all questions to be answered\r\n      // if (answeredQuestions < totalQuestions) {\r\n      //   const confirm = window.confirm(`You have only answered ${answeredQuestions}/${totalQuestions} questions. Submit anyway?`);\r\n      //   if (!confirm) return;\r\n      // }\r\n    }\r\n\r\n    // Validation cho essay\r\n    if (assignment.type === \"essay\" && !essayContent.trim()) {\r\n      alert(\"Please write your answer before submitting.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      if (hasSubmitted && submission && submission._id) {\r\n        // RESUBMIT - Update existing submission\r\n        let resubmitPayload = {};\r\n        \r\n        if (assignment.type === \"quiz\") {\r\n          // Chuyển answers thành mảng\r\n          const ansArr = Object.entries(answers).map(([qId, sel]) => ({\r\n            questionId: qId,\r\n            selectedOption: sel,\r\n          }));\r\n          resubmitPayload.answers = ansArr;\r\n        } else {\r\n          // essay\r\n          resubmitPayload.content = essayContent.trim();\r\n        }\r\n\r\n        console.log(\"Resubmitting with payload:\", resubmitPayload);\r\n        console.log(\"Submission ID:\", submission._id);\r\n\r\n        // FIX: Sử dụng đúng endpoint resubmit\r\n        const response = await axios.put(\r\n          `/api/student/submissions/resubmit/${submission._id}`, \r\n          resubmitPayload\r\n        );\r\n        \r\n        console.log(\"Resubmit response:\", response.data);\r\n        \r\n        if (response.data.success) {\r\n          alert(\"Resubmission successful!\");\r\n          // Refresh lại submission để lấy dữ liệu mới\r\n          await fetchSubmission();\r\n        } else {\r\n          alert(response.data.message || \"Resubmission failed!\");\r\n        }\r\n        \r\n      } else {\r\n        // NEW SUBMISSION - Create new submission\r\n        let payload = {\r\n          studentId,\r\n          assignmentId,\r\n        };\r\n        \r\n        if (assignment.type === \"quiz\") {\r\n          // Chuyển answers thành mảng\r\n          const ansArr = Object.entries(answers).map(([qId, sel]) => ({\r\n            questionId: qId,\r\n            selectedOption: sel,\r\n          }));\r\n          payload.answers = ansArr;\r\n        } else {\r\n          // essay\r\n          payload.content = essayContent.trim();\r\n        }\r\n\r\n        console.log(\"New submission with payload:\", payload);\r\n\r\n        const response = await axios.post(\"/api/student/submissions/submit\", payload);\r\n        \r\n        console.log(\"Submit response:\", response.data);\r\n        \r\n        if (response.data.success) {\r\n          alert(\"Submission successful!\");\r\n          // Set hasSubmitted và submission data\r\n          setHasSubmitted(true);\r\n          if (response.data.data) {\r\n            setSubmission(response.data.data);\r\n          }\r\n          // Refresh lại submission để đảm bảo\r\n          await fetchSubmission();\r\n        } else {\r\n          alert(response.data.message || \"Submission failed!\");\r\n        }\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error(\"Submit error:\", err);\r\n      const errorMsg = err.response?.data?.message || err.message || \"Failed to submit.\";\r\n      alert(errorMsg);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Helper functions\r\n  const getTimeRemaining = () => {\r\n    if (!assignment) return null;\r\n    const now = new Date();\r\n    const due = new Date(assignment.dueDate);\r\n    const diff = due - now;\r\n    \r\n    if (diff <= 0) return \"Overdue\";\r\n    \r\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    \r\n    if (days > 0) return `${days} day${days > 1 ? 's' : ''} remaining`;\r\n    if (hours > 0) return `${hours} hour${hours > 1 ? 's' : ''} remaining`;\r\n    return \"Less than 1 hour remaining\";\r\n  };\r\n\r\n  const getQuizProgress = () => {\r\n    if (!assignment || assignment.type !== 'quiz') return 0;\r\n    const totalQuestions = assignment.questions.length;\r\n    const answeredQuestions = Object.keys(answers).length;\r\n    return totalQuestions > 0 ? (answeredQuestions / totalQuestions) * 100 : 0;\r\n  };\r\n\r\n  const getStatusBadge = () => {\r\n    if (hasSubmitted && submission?.grade?.score != null) {\r\n      return <Badge bg=\"success\" className=\"ms-2\"><FiCheckCircle className=\"me-1\" />Graded</Badge>;\r\n    }\r\n    if (hasSubmitted) {\r\n      return <Badge bg=\"info\" className=\"ms-2\"><FiCheckCircle className=\"me-1\" />Submitted</Badge>;\r\n    }\r\n    if (!canEdit) {\r\n      return <Badge bg=\"danger\" className=\"ms-2\"><FiAlertTriangle className=\"me-1\" />Overdue</Badge>;\r\n    }\r\n    return <Badge bg=\"warning\" className=\"ms-2\"><FiClock className=\"me-1\" />In Progress</Badge>;\r\n  };\r\n\r\n  // Show last submission info\r\n  const getSubmissionInfo = () => {\r\n    if (!hasSubmitted || !submission) return null;\r\n    \r\n    return (\r\n      <Alert variant=\"info\" className=\"mb-4\">\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <strong>Last submitted:</strong> {new Date(submission.submittedAt).toLocaleString()}\r\n            {submission.grade?.score != null && (\r\n              <span className=\"ms-3\">\r\n                <strong>Grade:</strong> <span className=\"text-success\">{submission.grade.score}%</span>\r\n              </span>\r\n            )}\r\n          </div>\r\n          {canEdit && (\r\n            <small className=\"text-muted\">You can still resubmit before the deadline</small>\r\n          )}\r\n        </div>\r\n      </Alert>\r\n    );\r\n  };\r\n\r\n  if (isLoading || !assignment) {\r\n    return (\r\n      <Container className=\"py-5 text-center\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n        >\r\n          <Spinner animation=\"border\" variant=\"primary\" size=\"lg\" />\r\n          <p className=\"mt-3 text-muted\">Loading assignment...</p>\r\n        </motion.div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <Container className=\"py-4\">\r\n        {/* Back Button */}\r\n        <motion.div\r\n          initial={{ x: -20, opacity: 0 }}\r\n          animate={{ x: 0, opacity: 1 }}\r\n          transition={{ duration: 0.3 }}\r\n        >\r\n          <Button\r\n            variant=\"outline-primary\"\r\n            className=\"mb-4 d-flex align-items-center\"\r\n            onClick={() => navigate(-1)}\r\n          >\r\n            <FiArrowLeft className=\"me-2\" /> Back to Assignments\r\n          </Button>\r\n        </motion.div>\r\n\r\n        {/* Assignment Header */}\r\n        <motion.div\r\n          initial={{ y: -20, opacity: 0 }}\r\n          animate={{ y: 0, opacity: 1 }}\r\n          transition={{ duration: 0.4, delay: 0.1 }}\r\n        >\r\n          <Card className=\"mb-4 border-0 shadow-sm\">\r\n            <Card.Body className=\"p-4\">\r\n              <div className=\"d-flex justify-content-between align-items-start mb-3\">\r\n                <div>\r\n                  <Card.Title className=\"h3 mb-2 text-primary\">\r\n                    {assignment.title}\r\n                    {getStatusBadge()}\r\n                  </Card.Title>\r\n                  <Badge bg={assignment.type === 'quiz' ? 'primary' : 'secondary'} className=\"mb-2\">\r\n                    {assignment.type.toUpperCase()}\r\n                  </Badge>\r\n                </div>\r\n                {submission?.grade?.score != null && (\r\n                  <div className=\"text-end\">\r\n                    <div className=\"h2 text-success mb-0\">{submission.grade.score}%</div>\r\n                    <small className=\"text-muted\">Your Score</small>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <Row>\r\n                <Col md={6}>\r\n                  <div className=\"d-flex align-items-center text-muted mb-2\">\r\n                    <FiClock className=\"me-2\" />\r\n                    <strong>Due:</strong> {new Date(assignment.dueDate).toLocaleString()}\r\n                  </div>\r\n                </Col>\r\n                <Col md={6} className=\"text-md-end\">\r\n                  <div className={`fw-bold ${canEdit ? 'text-success' : 'text-danger'}`}>\r\n                    {getTimeRemaining()}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n\r\n              {assignment.type === 'quiz' && (\r\n                <div className=\"mt-3\">\r\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                    <span className=\"text-muted\">Progress</span>\r\n                    <span className=\"text-muted\">{Object.keys(answers).length}/{assignment.questions.length} questions</span>\r\n                  </div>\r\n                  <ProgressBar \r\n                    now={getQuizProgress()} \r\n                    variant={getQuizProgress() === 100 ? 'success' : 'primary'}\r\n                    height={8}\r\n                  />\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </motion.div>\r\n\r\n        {/* Submission Info */}\r\n        {getSubmissionInfo()}\r\n\r\n        {/* Deadline Alert */}\r\n        {!canEdit && (\r\n          <motion.div\r\n            initial={{ scale: 0.95, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            transition={{ duration: 0.3, delay: 0.2 }}\r\n          >\r\n            <Alert variant=\"danger\" className=\"mb-4\">\r\n              <FiAlertTriangle className=\"me-2\" />\r\n              <strong>Deadline has passed!</strong> You can no longer submit or modify your answers.\r\n            </Alert>\r\n          </motion.div>\r\n        )}\r\n\r\n        {/* Debug Info - Remove in production */}\r\n        <Alert variant=\"light\" className=\"mb-4\">\r\n          <strong>Debug Info:</strong><br/>\r\n          Student ID: {studentId}<br/>\r\n          Assignment ID: {assignmentId}<br/>\r\n          Has Submitted: {hasSubmitted.toString()}<br/>\r\n          Submission ID: {submission?._id || 'None'}<br/>\r\n          Submission Student ID: {submission?.studentId || 'None'}<br/>\r\n          Can Edit: {canEdit.toString()}<br/>\r\n          Answers: {JSON.stringify(answers)}<br/>\r\n          Essay Content Length: {essayContent.length}\r\n        </Alert>\r\n\r\n        {/* Content */}\r\n        <motion.div\r\n          initial={{ y: 20, opacity: 0 }}\r\n          animate={{ y: 0, opacity: 1 }}\r\n          transition={{ duration: 0.5, delay: 0.3 }}\r\n        >\r\n          {assignment.type === 'quiz' ? (\r\n            <div className=\"quiz-questions\">\r\n              {assignment.questions.map((q, idx) => (\r\n                <motion.div\r\n                  key={q.questionId}\r\n                  initial={{ y: 20, opacity: 0 }}\r\n                  animate={{ y: 0, opacity: 1 }}\r\n                  transition={{ duration: 0.4, delay: 0.1 * idx }}\r\n                >\r\n                  <Card className=\"mb-4 border-0 shadow-sm\">\r\n                    <Card.Body className=\"p-4\">\r\n                      <div className=\"d-flex align-items-start mb-3\">\r\n                        <Badge bg=\"light\" text=\"dark\" className=\"me-3 fs-6\">\r\n                          {idx + 1}\r\n                        </Badge>\r\n                        <Card.Subtitle className=\"h5 mb-0 flex-grow-1\">\r\n                          {q.text}\r\n                        </Card.Subtitle>\r\n                        {answers[q.questionId] && (\r\n                          <FiCheckCircle className=\"text-success ms-2\" />\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <Row className=\"mt-3\">\r\n                        {q.options.map((opt, i) => (\r\n                          <Col md={6} key={opt.key} className=\"mb-3\">\r\n                            <motion.div\r\n                              whileHover={canEdit ? { scale: 1.02 } : {}}\r\n                              whileTap={canEdit ? { scale: 0.98 } : {}}\r\n                            >\r\n                              <Form.Check\r\n                                type=\"radio\"\r\n                                name={`q_${q.questionId}`}\r\n                                id={`${q.questionId}_${opt.key}`}\r\n                                className=\"custom-radio\"\r\n                                disabled={!canEdit}\r\n                              >\r\n                                <Form.Check.Input\r\n                                  type=\"radio\"\r\n                                  checked={answers[q.questionId] === opt.key}\r\n                                  onChange={() => handleOptionChange(q.questionId, opt.key)}\r\n                                  disabled={!canEdit}\r\n                                />\r\n                                <Form.Check.Label className=\"d-flex align-items-center\">\r\n                                  <span className=\"fw-bold me-2\">{opt.key}.</span>\r\n                                  <span>{opt.text}</span>\r\n                                </Form.Check.Label>\r\n                              </Form.Check>\r\n                            </motion.div>\r\n                          </Col>\r\n                        ))}\r\n                      </Row>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Card className=\"mb-4 border-0 shadow-sm\">\r\n              <Card.Body className=\"p-4\">\r\n                <Form.Group>\r\n                  <Form.Label className=\"h5 mb-3\">\r\n                    <FiEdit3 className=\"me-2\" />\r\n                    Your Answer\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={8}\r\n                    value={essayContent}\r\n                    onChange={(e) => setEssayContent(e.target.value)}\r\n                    disabled={!canEdit}\r\n                    placeholder={canEdit ? \"Type your answer here...\" : \"\"}\r\n                    className=\"border-0 shadow-sm\"\r\n                    style={{ resize: 'vertical', minHeight: '200px' }}\r\n                  />\r\n                  {canEdit && (\r\n                    <Form.Text className=\"text-muted\">\r\n                      {essayContent.length} characters\r\n                    </Form.Text>\r\n                  )}\r\n                </Form.Group>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </motion.div>\r\n\r\n        {/* Submit Button */}\r\n        <motion.div\r\n          initial={{ y: 20, opacity: 0 }}\r\n          animate={{ y: 0, opacity: 1 }}\r\n          transition={{ duration: 0.4, delay: 0.5 }}\r\n          className=\"text-center mt-4\"\r\n        >\r\n          {canEdit ? (\r\n            <Button \r\n              onClick={handleSubmit}\r\n              disabled={isSubmitting}\r\n              size=\"lg\"\r\n              className=\"px-5 py-3\"\r\n              variant={hasSubmitted ? \"warning\" : \"success\"}\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                  {hasSubmitted ? 'Resubmitting...' : 'Submitting...'}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FiSend className=\"me-2\" />\r\n                  {hasSubmitted ? 'Resubmit Assignment' : 'Submit Assignment'}\r\n                </>\r\n              )}\r\n            </Button>\r\n          ) : (\r\n            <Alert variant=\"secondary\" className=\"d-inline-block\">\r\n              <FiAlertTriangle className=\"me-2\" />\r\n              Submission period has ended\r\n            </Alert>\r\n          )}\r\n        </motion.div>\r\n      </Container>\r\n    </motion.div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}